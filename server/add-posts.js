import pool from './db/db.js';

async function addPosts() {
  try {
    // 定义要添加的5篇文章
    const posts = [
      {
        title: '我的编程学习之路',
        content: '这是我的编程学习之路，从入门到精通的历程。我从零基础开始学习编程，经历了无数次的挫折和失败，但最终坚持下来，成为了一名优秀的开发者。在这个过程中，我学习了多种编程语言和技术栈，包括HTML、CSS、JavaScript、Python等。我也参加了各种编程比赛和项目实践，积累了丰富的经验。通过不断地学习和实践，我深刻体会到编程不仅仅是一门技术，更是一种思维方式。它教会了我如何分析问题、解决问题，如何团队合作，如何不断学习和进步。编程学习之路虽然艰辛，但收获满满，我会继续在这条路上走下去。',
        author_id: 1 // 默认作者ID为1
      },
      {
        title: '最适合编程时听的音乐推荐',
        content: '编程时听音乐可以提高效率，减少干扰。以下是我推荐的几种类型的音乐：1. 古典音乐：如巴赫、莫扎特的作品，节奏稳定，有助于集中注意力。2. 电子音乐：如Ambient、Chillout等，节奏缓慢，不会分散注意力。3. 电影配乐：如《星际穿越》《盗梦空间》等，富有层次感，能激发创造力。4. 白噪音：如雨声、海浪声等，能掩盖环境噪音，创造安静的氛围。5. 无歌词音乐：避免歌词干扰思考。每个人的喜好不同，建议根据自己的习惯选择适合的音乐。',
        author_id: 1
      },
      {
        title: '如何高效学习新技术',
        content: '学习新技术需要有计划、有方法。以下是我的建议：1. 明确学习目标：确定为什么要学习这项技术，想要达到什么水平。2. 制定学习计划：将大目标分解为小目标，制定合理的学习进度。3. 选择优质资源：如官方文档、优质教程、书籍等。4. 实践结合理论：学习一段时间后，立即动手实践，通过项目巩固知识。5. 参与社区：加入相关的技术社区，向他人学习，分享自己的经验。6. 定期复习：回顾已学知识，加深理解。7. 应用到实际项目：将所学技术应用到实际项目中，提高实际应用能力。通过这些方法，可以更高效地学习新技术，快速掌握并应用到工作中。',
        author_id: 1
      },
      {
        title: '技术人如何平衡学习与生活',
        content: '作为技术人，学习是必不可少的，但也要注意平衡生活。以下是我的建议：1. 制定合理的学习计划：不要过度学习，给自己留出休息时间。2. 设定学习边界：工作时间专注工作，学习时间专注学习，休息时间好好休息。3. 培养兴趣爱好：除了编程，培养其他兴趣爱好，如运动、阅读、旅行等。4. 保持健康：定期锻炼，保持良好的饮食习惯，充足的睡眠。5. 与家人朋友交流：花时间与家人朋友相处，保持良好的人际关系。6. 学会放松：工作和学习之余，学会放松，如听音乐、冥想等。平衡学习与生活，才能保持持久的学习动力和创造力，实现长期的职业发展。',
        author_id: 1
      },
      {
        title: '学习编程改变我的5个思维方式',
        content: '学习编程不仅让我掌握了一项技术，更改变了我的思维方式：1. 结构化思维：编程需要将问题分解为多个步骤，培养了我的结构化思维能力。2. 逻辑思维：编程需要严密的逻辑推理，提高了我的逻辑思维能力。3. 问题解决能力：编程过程中会遇到各种问题，培养了我分析问题、解决问题的能力。4. 抽象思维：编程需要将现实问题抽象为代码模型，提高了我的抽象思维能力。5. 持续学习能力：技术更新迭代快，培养了我持续学习的习惯和能力。这些思维方式不仅在编程中有用，也对我的生活和工作产生了积极的影响。',
        author_id: 1
      }
    ];

    // 批量添加文章
    const results = [];
    for (const post of posts) {
      const [result] = await pool.execute(
        'INSERT INTO posts (title, content, author_id) VALUES (?, ?, ?)',
        [post.title, post.content, post.author_id]
      );
      results.push(result);
    }

    console.log(`成功添加了 ${results.length} 篇文章`);
    results.forEach((result, index) => {
      console.log(`文章 ${index + 1} (ID: ${result.insertId}) 添加成功`);
    });
    process.exit(0);
  } catch (error) {
    console.error('添加文章失败:', error);
    process.exit(1);
  }
}

addPosts();